<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Pythonä¸­çš„ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–ã€æ–¹æ³•è°ƒç”¨ã€ç»§æ‰¿å’Œç»„åˆç­‰ã€‚é€šè¿‡å®ä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç±»æ¥ç»„ç»‡æ•°æ®å’Œè¡Œä¸ºï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ç»§æ‰¿å’Œç»„åˆæ¥æ„å»ºæ›´å¤æ‚çš„å¯¹è±¡ç³»ç»Ÿã€‚æ­¤å¤–ï¼Œè¿˜ä»‹ç»äº†ç‰¹æ®Šå¯¹è±¡æ–¹æ³•å¦‚&#96;__str__&#96;å’Œ&#96;__repr__&#96;çš„ä½¿ç”¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡&#96;getattr&#96;å’Œ&#96;hasattr&#96;æ–¹æ³•æ¥æ“ä½œå¯¹è±¡çš„å±æ€§ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="CS61A è¯¾ç¨‹ç¬”è®° Week07">
<meta property="og:url" content="http://example.com/2024/06/14/CS61A-CourseNote-Week07/index.html">
<meta property="og:site_name" content="Rex&#39;s Blog">
<meta property="og:description" content="æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Pythonä¸­çš„ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–ã€æ–¹æ³•è°ƒç”¨ã€ç»§æ‰¿å’Œç»„åˆç­‰ã€‚é€šè¿‡å®ä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç±»æ¥ç»„ç»‡æ•°æ®å’Œè¡Œä¸ºï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ç»§æ‰¿å’Œç»„åˆæ¥æ„å»ºæ›´å¤æ‚çš„å¯¹è±¡ç³»ç»Ÿã€‚æ­¤å¤–ï¼Œè¿˜ä»‹ç»äº†ç‰¹æ®Šå¯¹è±¡æ–¹æ³•å¦‚&#96;__str__&#96;å’Œ&#96;__repr__&#96;çš„ä½¿ç”¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡&#96;getattr&#96;å’Œ&#96;hasattr&#96;æ–¹æ³•æ¥æ“ä½œå¯¹è±¡çš„å±æ€§ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/9f142f35cdd98af831e65a770ca6a67.png">
<meta property="og:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/e8c10fb6c0716f1b62a9e5a08af5929.png">
<meta property="og:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/61feadd3b714075fedfad27bfe1c9af.png">
<meta property="og:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/01bd2d2228b91429525a1ad5e256bc1.png">
<meta property="og:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/25bd4bf86c08cd9542a8db8491cc3f8.png">
<meta property="og:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/8f11a006a0e4c378fe2a40a4cb0ceca.png">
<meta property="og:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/4588895c4397fe4136843e4677233a7.png">
<meta property="article:published_time" content="2024-06-14T03:52:30.000Z">
<meta property="article:modified_time" content="2024-06-14T04:09:51.412Z">
<meta property="article:author" content="Rex">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/9f142f35cdd98af831e65a770ca6a67.png">


<link rel="canonical" href="http://example.com/2024/06/14/CS61A-CourseNote-Week07/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2024/06/14/CS61A-CourseNote-Week07/","path":"2024/06/14/CS61A-CourseNote-Week07/","title":"CS61A è¯¾ç¨‹ç¬”è®° Week07"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>CS61A è¯¾ç¨‹ç¬”è®° Week07 | Rex's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Rex's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="æœç´¢..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Week7"><span class="nav-number">1.</span> <span class="nav-text">Week7</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-16-Objects-Classes"><span class="nav-number">1.1.</span> <span class="nav-text">Lecture #16: Objects + Classes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%BB%BA%E9%80%A0%E4%B8%80%E9%97%B4%E5%B7%A7%E5%85%8B%E5%8A%9B%E5%95%86%E5%BA%97%EF%BC%88Building-a-chocolate-shop%EF%BC%89"><span class="nav-number">1.1.1.</span> <span class="nav-text">å¦‚ä½•å»ºé€ ä¸€é—´å·§å…‹åŠ›å•†åº—ï¼ˆBuilding a chocolate shopï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E5%87%BD%E6%95%B0%E5%88%B0%E5%AF%B9%E8%B1%A1%EF%BC%88From-functions-to-objects%EF%BC%89"><span class="nav-number">1.1.2.</span> <span class="nav-text">ä»å‡½æ•°åˆ°å¯¹è±¡ï¼ˆFrom functions to objectsï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%EF%BC%88Classes%EF%BC%89"><span class="nav-number">1.1.3.</span> <span class="nav-text">ç±»ï¼ˆClassesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%AE%9A%E4%B9%89%EF%BC%88Class-definition%EF%BC%89"><span class="nav-number">1.1.4.</span> <span class="nav-text">ç±»å®šä¹‰ï¼ˆClass definitionï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96%EF%BC%88%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E9%80%A0%EF%BC%89%EF%BC%88Class-instantiation-Object-construction-%EF%BC%89"><span class="nav-number">1.1.5.</span> <span class="nav-text">ç±»çš„å®ä¾‹åŒ–ï¼ˆå¯¹è±¡çš„æ„é€ ï¼‰ï¼ˆClass instantiation (Object construction)ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%82%B9%E8%BF%90%E7%AE%97%E7%AC%A6-%EF%BC%88Dot-notation%EF%BC%89"><span class="nav-number">1.1.6.</span> <span class="nav-text">ç‚¹è¿ç®—ç¬¦.ï¼ˆDot notationï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8F%98%E9%87%8F%EF%BC%88Instance-variables%EF%BC%89"><span class="nav-number">1.1.7.</span> <span class="nav-text">å®ä¾‹çš„å˜é‡ï¼ˆInstance variablesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8%EF%BC%88Method-invocation%EF%BC%89"><span class="nav-number">1.1.8.</span> <span class="nav-text">æ–¹æ³•çš„è°ƒç”¨ï¼ˆMethod invocationï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%EF%BC%88Dynamic-instance-variables%EF%BC%89"><span class="nav-number">1.1.9.</span> <span class="nav-text">åŠ¨æ€å®ä¾‹å˜é‡ï¼ˆDynamic instance variablesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%EF%BC%88Class-variables%EF%BC%89"><span class="nav-number">1.1.10.</span> <span class="nav-text">ç±»å˜é‡ï¼ˆClass variablesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E9%83%BD%E6%98%AF%E5%85%AC%E5%85%B1%E7%9A%84%EF%BC%88Attributes-are-all-public%EF%BC%89"><span class="nav-number">1.1.11.</span> <span class="nav-text">å±æ€§éƒ½æ˜¯å…¬å…±çš„ï¼ˆAttributes are all publicï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%80%9C%E7%A7%81%E6%9C%89%E2%80%9D%E5%B1%9E%E6%80%A7%EF%BC%88-Private-attributes%EF%BC%89"><span class="nav-number">1.1.12.</span> <span class="nav-text">â€œç§æœ‰â€å±æ€§ï¼ˆ&quot;Private&quot; attributesï¼‰</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-17-Inheritance-Composition"><span class="nav-number">1.2.</span> <span class="nav-text">Lecture #17: Inheritance + Composition</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E2%80%9C%E5%8A%A8%E7%89%A9%E5%9B%AD%E2%80%9D%EF%BC%88Building-Animal-Conserving-%EF%BC%89"><span class="nav-number">1.2.1.</span> <span class="nav-text">åˆ›å»ºä¸€ä¸ªâ€œåŠ¨ç‰©å›­â€ï¼ˆBuilding &quot;Animal Conserving&quot;ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A3%9F%E7%89%A9%E7%B1%BB%EF%BC%88A-Food-class%EF%BC%89"><span class="nav-number">1.2.2.</span> <span class="nav-text">é£Ÿç‰©ç±»ï¼ˆA Food classï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%A7%E8%B1%A1%E7%B1%BB%EF%BC%88An-Elephant-class%EF%BC%89"><span class="nav-number">1.2.3.</span> <span class="nav-text">å¤§è±¡ç±»ï¼ˆAn Elephant classï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%94%E5%AD%90%E7%B1%BB%EF%BC%88An-Rabbit-class%EF%BC%89"><span class="nav-number">1.2.4.</span> <span class="nav-text">å…”å­ç±»ï¼ˆAn Rabbit classï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E2%80%94%E2%80%94%E5%9F%BA%E7%B1%BB%E4%B8%8E%E5%AD%90%E7%B1%BB%EF%BC%88Inheritance-Base-classes-and-subclasses%EF%BC%89"><span class="nav-number">1.2.5.</span> <span class="nav-text">ç»§æ‰¿â€”â€”åŸºç±»ä¸å­ç±»ï¼ˆInheritance--Base classes and subclassesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%B1%BB%EF%BC%88The-base-class%EF%BC%89"><span class="nav-number">1.2.6.</span> <span class="nav-text">åŸºç±»ï¼ˆThe base classï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%90%E7%B1%BB%EF%BC%88The-subclasses%EF%BC%89"><span class="nav-number">1.2.7.</span> <span class="nav-text">å­ç±»ï¼ˆThe subclassesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E8%BD%BD%E7%B1%BB%E5%8F%98%E9%87%8F%EF%BC%88Overriding-class-variables%EF%BC%89"><span class="nav-number">1.2.8.</span> <span class="nav-text">é‡è½½ç±»å˜é‡ï¼ˆOverriding class variablesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E8%BD%BD%E6%96%B9%E6%B3%95%EF%BC%88Overriding-methods%EF%BC%89"><span class="nav-number">1.2.9.</span> <span class="nav-text">é‡è½½æ–¹æ³•ï¼ˆOverriding methodsï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%88Using-methods-from-the-base-class%EF%BC%89"><span class="nav-number">1.2.10.</span> <span class="nav-text">ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼ˆUsing methods from the base classï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E8%BD%BD-init-%EF%BC%88Overriding-init-%EF%BC%89"><span class="nav-number">1.2.11.</span> <span class="nav-text">é‡è½½__init__ï¼ˆOverriding __init__ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E5%B1%82%E6%AC%A1%EF%BC%88Layers-of-inheritance%EF%BC%89"><span class="nav-number">1.2.12.</span> <span class="nav-text">ç»§æ‰¿çš„å±‚æ¬¡ï¼ˆLayers of inheritanceï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF%EF%BC%88Multiple-inhteritance%EF%BC%89"><span class="nav-number">1.2.13.</span> <span class="nav-text">å¤šç»§æ‰¿ï¼ˆMultiple inhteritanceï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E5%90%88%EF%BC%88Composition%EF%BC%89"><span class="nav-number">1.2.14.</span> <span class="nav-text">ç»„åˆï¼ˆCompositionï¼‰</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-18-Special-Object-Methods"><span class="nav-number">1.3.</span> <span class="nav-text">Lecture #18: Special Object Methods</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E5%AF%B9%E8%B1%A1%EF%BC%88So-many-objects%EF%BC%89"><span class="nav-number">1.3.1.</span> <span class="nav-text">å…³äºå¯¹è±¡ï¼ˆSo many objectsï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E5%86%85%E7%BD%AE%E7%9A%84%E5%B1%9E%E6%80%A7%EF%BC%88Built-in-object-attributes%EF%BC%89"><span class="nav-number">1.3.2.</span> <span class="nav-text">å¯¹è±¡å†…ç½®çš„å±æ€§ï¼ˆBuilt-in object attributesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#str-%E6%96%B9%E6%B3%95%EF%BC%88-str-%EF%BC%89"><span class="nav-number">1.3.3.</span> <span class="nav-text">__str__æ–¹æ³•ï¼ˆ__str__ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-str-%E6%96%B9%E6%B3%95%EF%BC%88Custom-str-behavior%EF%BC%89"><span class="nav-number">1.3.4.</span> <span class="nav-text">è‡ªå®šä¹‰__str__æ–¹æ³•ï¼ˆCustom __str__ behaviorï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#repr-%E6%96%B9%E6%B3%95%EF%BC%88-repr-%EF%BC%89"><span class="nav-number">1.3.5.</span> <span class="nav-text">__repr__æ–¹æ³•ï¼ˆ__repr__ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-repr-%E6%96%B9%E6%B3%95%EF%BC%88Custom-repr-behavior%EF%BC%89"><span class="nav-number">1.3.6.</span> <span class="nav-text">è‡ªå®šä¹‰__repr__æ–¹æ³•ï¼ˆCustom __repr__ behaviorï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8getattr%E6%96%B9%E6%B3%95%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%EF%BC%88Get-attribute-with-getattr-%EF%BC%89"><span class="nav-number">1.3.7.</span> <span class="nav-text">ä½¿ç”¨getattræ–¹æ³•è·å–å¯¹è±¡å±æ€§ï¼ˆGet attribute with getattr()ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8hasattr%E6%96%B9%E6%B3%95%E6%A3%80%E6%B5%8B%E5%B1%9E%E6%80%A7%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%EF%BC%88Check-attribute-exists-with-hasattr-%EF%BC%89"><span class="nav-number">1.3.8.</span> <span class="nav-text">ä½¿ç”¨hasattræ–¹æ³•æ£€æµ‹å±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆCheck attribute exists with hasattr()ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E5%88%AB%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%88Special-methods%EF%BC%89"><span class="nav-number">1.3.9.</span> <span class="nav-text">ç‰¹åˆ«çš„æ–¹æ³•ï¼ˆSpecial methodsï¼‰</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">1.4.</span> <span class="nav-text">å‚è€ƒèµ„æ–™</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Rex</p>
  <div class="site-description" itemprop="description">æœ€æ˜¯äººé—´ç•™ä¸ä½ï¼Œæœ±é¢œè¾é•œèŠ±è¾æ ‘ã€‚</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">35</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/14/CS61A-CourseNote-Week07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rex">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rex's Blog">
      <meta itemprop="description" content="æœ€æ˜¯äººé—´ç•™ä¸ä½ï¼Œæœ±é¢œè¾é•œèŠ±è¾æ ‘ã€‚">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="CS61A è¯¾ç¨‹ç¬”è®° Week07 | Rex's Blog">
      <meta itemprop="description" content="æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Pythonä¸­çš„ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–ã€æ–¹æ³•è°ƒç”¨ã€ç»§æ‰¿å’Œç»„åˆç­‰ã€‚é€šè¿‡å®ä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç±»æ¥ç»„ç»‡æ•°æ®å’Œè¡Œä¸ºï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ç»§æ‰¿å’Œç»„åˆæ¥æ„å»ºæ›´å¤æ‚çš„å¯¹è±¡ç³»ç»Ÿã€‚æ­¤å¤–ï¼Œè¿˜ä»‹ç»äº†ç‰¹æ®Šå¯¹è±¡æ–¹æ³•å¦‚`__str__`å’Œ`__repr__`çš„ä½¿ç”¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡`getattr`å’Œ`hasattr`æ–¹æ³•æ¥æ“ä½œå¯¹è±¡çš„å±æ€§ã€‚">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CS61A è¯¾ç¨‹ç¬”è®° Week07
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-06-14 11:52:30 / ä¿®æ”¹æ—¶é—´ï¼š12:09:51" itemprop="dateCreated datePublished" datetime="2024-06-14T11:52:30+08:00">2024-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS61A/Course-Notes/" itemprop="url" rel="index"><span itemprop="name">Course Notes</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Pythonä¸­çš„ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–ã€æ–¹æ³•è°ƒç”¨ã€ç»§æ‰¿å’Œç»„åˆç­‰ã€‚é€šè¿‡å®ä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç±»æ¥ç»„ç»‡æ•°æ®å’Œè¡Œä¸ºï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ç»§æ‰¿å’Œç»„åˆæ¥æ„å»ºæ›´å¤æ‚çš„å¯¹è±¡ç³»ç»Ÿã€‚æ­¤å¤–ï¼Œè¿˜ä»‹ç»äº†ç‰¹æ®Šå¯¹è±¡æ–¹æ³•å¦‚`__str__`å’Œ`__repr__`çš„ä½¿ç”¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡`getattr`å’Œ`hasattr`æ–¹æ³•æ¥æ“ä½œå¯¹è±¡çš„å±æ€§ã€‚</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="Week7"><a href="#Week7" class="headerlink" title="Week7"></a>Week7</h1><h2 id="Lecture-16-Objects-Classes"><a href="#Lecture-16-Objects-Classes" class="headerlink" title="Lecture #16: Objects + Classes"></a>Lecture #16: Objects + Classes</h2><h3 id="å¦‚ä½•å»ºé€ ä¸€é—´å·§å…‹åŠ›å•†åº—ï¼ˆBuilding-a-chocolate-shopï¼‰"><a href="#å¦‚ä½•å»ºé€ ä¸€é—´å·§å…‹åŠ›å•†åº—ï¼ˆBuilding-a-chocolate-shopï¼‰" class="headerlink" title="å¦‚ä½•å»ºé€ ä¸€é—´å·§å…‹åŠ›å•†åº—ï¼ˆBuilding a chocolate shopï¼‰"></a>å¦‚ä½•å»ºé€ ä¸€é—´å·§å…‹åŠ›å•†åº—ï¼ˆ<code>Building a chocolate shop</code>ï¼‰</h3><p><img src="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/9f142f35cdd98af831e65a770ca6a67.png" alt="9f142f35cdd98af831e65a770ca6a67"></p>
<p>ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰å­¦ä¹ è¿‡çš„æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆ<code>Abstract Data Type</code>ï¼‰çš„çŸ¥è¯†ï¼Œç”¨å‡½æ•°å¯ä»¥å®ç°å·§å…‹åŠ›å•†åº—çš„æ‰€æœ‰è¡Œä¸ºï¼Œä½†è¿™èŠ‚è¯¾æˆ‘ä»¬ä¼šå¼•å…¥ç±»å’Œå¯¹è±¡ï¼ˆ<code>Class and Objects</code>ï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inventory tracking</span></span><br><span class="line">add_product(name, price, nutrition)</span><br><span class="line">get_label(product)</span><br><span class="line">get_nutrition_info(product)</span><br><span class="line">increase_inventory(product, amount)</span><br><span class="line">reduce_inventory(product, amount)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Customer tracking</span></span><br><span class="line">signup_customer(name, address)</span><br><span class="line">get_greeting(customer)</span><br><span class="line">get_formatted_address(customer)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Purchase tracking</span></span><br><span class="line">order(customer, product, quantity, cc_info)</span><br><span class="line">track(order_number)</span><br><span class="line">refund(order_number, reason)</span><br></pre></td></tr></table></figure>

<h3 id="ä»å‡½æ•°åˆ°å¯¹è±¡ï¼ˆFrom-functions-to-objectsï¼‰"><a href="#ä»å‡½æ•°åˆ°å¯¹è±¡ï¼ˆFrom-functions-to-objectsï¼‰" class="headerlink" title="ä»å‡½æ•°åˆ°å¯¹è±¡ï¼ˆFrom functions to objectsï¼‰"></a>ä»å‡½æ•°åˆ°å¯¹è±¡ï¼ˆ<code>From functions to objects</code>ï¼‰</h3><p>ä½¿ç”¨<strong>å¯¹è±¡</strong>æ¥ç»„ç»‡æ•°æ®ç»“æ„ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inventory tracking</span></span><br><span class="line">Product(name, price, nutrition)</span><br><span class="line">Product.get_label()</span><br><span class="line">Product.get_nutrition_info()</span><br><span class="line">Product.increase_inventory(amount)</span><br><span class="line">Product.reduce_inventory(amount)</span><br><span class="line">Product.get_inventory_report()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Customer tracking</span></span><br><span class="line">Customer(name, address)</span><br><span class="line">Customer.get_greeting()</span><br><span class="line">Customer.get_formatted_address()</span><br><span class="line">Customer.buy(product, quantity, cc_info)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Purchase tracking</span></span><br><span class="line">Order(customer, product, quantity, cc_info)</span><br><span class="line">Order.ship()</span><br><span class="line">Order.refund(reason)</span><br></pre></td></tr></table></figure>

<p>ä¸€äº›å…³äº<strong>ç±»å’Œå¯¹è±¡</strong>çš„æ¦‚å¿µï¼š</p>
<blockquote>
<ul>
<li><p>A <strong>class</strong> is a template for defining new data types.</p>
</li>
<li><p>An instance of a class is called an <strong>object</strong>.</p>
</li>
<li><p>Each object has data attributes called <strong>instance variables</strong> that describe its state.</p>
</li>
<li><p>Each object also has function attributes called <strong>methods</strong>.</p>
</li>
</ul>
</blockquote>
<h3 id="ç±»ï¼ˆClassesï¼‰"><a href="#ç±»ï¼ˆClassesï¼‰" class="headerlink" title="ç±»ï¼ˆClassesï¼‰"></a>ç±»ï¼ˆ<code>Classes</code>ï¼‰</h3><p>ç±»èƒ½å¤Ÿå®ç°ï¼š</p>
<ul>
<li>åˆå§‹åŒ–å®ä¾‹å¯¹è±¡</li>
<li>å®šä¹‰æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿä¿®æ”¹æˆ–è€…æŠ¥å‘Šå®ä¾‹å¯¹è±¡çš„å€¼</li>
</ul>
<blockquote>
<ul>
<li><p>Set the <strong>initial values</strong> for instance variables.</p>
</li>
<li><p>Define <strong>methods</strong> specific to the object, often used to change or report the values of instance variables.</p>
</li>
</ul>
</blockquote>
<p>æœ¬è¯¾ç¨‹ç»™å‡ºäº†ä¸€ç§<strong>äº§å“</strong>ç±»çš„å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Define a new type of data</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Set the initial values</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, price, nutrition_info</span>):</span><br><span class="line">        self._name = name</span><br><span class="line">        self._price = price</span><br><span class="line">        self._nutrition_info = nutrition_info</span><br><span class="line">        self._inventory = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Define methods</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">increase_inventory</span>(<span class="params">self, amount</span>):</span><br><span class="line">        self._inventory += amount</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reduce_inventory</span>(<span class="params">self, amount</span>):</span><br><span class="line">        self._inventory -= amount</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_label</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Foxolate Shop: &quot;</span> + self._name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_inventory_report</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self._inventory == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;There are no bars!&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;There are <span class="subst">&#123;self._inventory&#125;</span> bars.&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pina_bar = Product(<span class="string">&quot;PiÃ±a Chocolotta&quot;</span>, <span class="number">7.99</span>,</span><br><span class="line">    [<span class="string">&quot;200 calories&quot;</span>, <span class="string">&quot;24 g sugar&quot;</span>])</span><br><span class="line"></span><br><span class="line">pina_bar.increase_inventory(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="ç±»å®šä¹‰ï¼ˆClass-definitionï¼‰"><a href="#ç±»å®šä¹‰ï¼ˆClass-definitionï¼‰" class="headerlink" title="ç±»å®šä¹‰ï¼ˆClass definitionï¼‰"></a>ç±»å®šä¹‰ï¼ˆ<code>Class definition</code>ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, price, nutrition_info</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">increase_inventory</span>(<span class="params">self, amount</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reduce_inventory</span>(<span class="params">self, amount</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_label</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_inventory_report</span>(<span class="params">self</span>):</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªç±»è¯­å¥å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼Œå¹¶å†å½“å‰ç¯å¢ƒçš„ç¬¬ä¸€ä¸ªå¸§ä¸­ï¼ŒæŠŠè¯¥ç±»ç»‘å®šåˆ°ç±»åä¸Šã€‚</p>
<blockquote>
<ul>
<li><p>A class statement creates a new class and binds that class to the class name in the first frame of the current environment.</p>
</li>
<li><p>Inner <code>def</code> statements create attributes of the class (<em>not</em> names in frames).</p>
</li>
</ul>
</blockquote>
<h3 id="ç±»çš„å®ä¾‹åŒ–ï¼ˆå¯¹è±¡çš„æ„é€ ï¼‰ï¼ˆClass-instantiation-Object-construction-ï¼‰"><a href="#ç±»çš„å®ä¾‹åŒ–ï¼ˆå¯¹è±¡çš„æ„é€ ï¼‰ï¼ˆClass-instantiation-Object-construction-ï¼‰" class="headerlink" title="ç±»çš„å®ä¾‹åŒ–ï¼ˆå¯¹è±¡çš„æ„é€ ï¼‰ï¼ˆClass instantiation (Object construction)ï¼‰"></a>ç±»çš„å®ä¾‹åŒ–ï¼ˆå¯¹è±¡çš„æ„é€ ï¼‰ï¼ˆ<code>Class instantiation (Object construction)</code>ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pina_bar = Product(<span class="string">&quot;PiÃ±a Chocolotta&quot;</span>, <span class="number">7.99</span>,</span><br><span class="line">    [<span class="string">&quot;200 calories&quot;</span>, <span class="string">&quot;24 g sugar&quot;</span>])</span><br></pre></td></tr></table></figure>

<p><code>Product(args)</code>ä¸€èˆ¬è¢«ç§°ä¸º<strong>æ„é€ å™¨</strong>ã€‚</p>
<p>å½“<strong>æ„é€ å™¨</strong>è¢«è°ƒç”¨æ—¶ï¼š</p>
<ul>
<li>è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹è¢«åˆ›å»º</li>
<li>è¯¥ç±»çš„<code>__init__</code>å‡½æ•°è¢«è°ƒç”¨ï¼Œæ–°çš„å¯¹è±¡ä½œä¸º<code>__init__</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°<code>self</code>ã€‚</li>
</ul>
<blockquote>
<p><code>Product(args)</code> is often called the <strong>constructor</strong>.</p>
<p>When the constructor is called:</p>
<ul>
<li>A new instance of that class is created</li>
<li>The <code>__init__</code> method of the class is called with the new object as its first argument (named <code>self</code>), along with any additional arguments provided in the call expression</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, price, nutrition_info</span>):</span><br><span class="line">        self._name = name</span><br><span class="line">        self._price = price</span><br><span class="line">        self._nutrition_info = nutrition_info</span><br><span class="line">        self._inventory = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h3 id="ç‚¹è¿ç®—ç¬¦-ï¼ˆDot-notationï¼‰"><a href="#ç‚¹è¿ç®—ç¬¦-ï¼ˆDot-notationï¼‰" class="headerlink" title="ç‚¹è¿ç®—ç¬¦.ï¼ˆDot notationï¼‰"></a>ç‚¹è¿ç®—ç¬¦<code>.</code>ï¼ˆ<code>Dot notation</code>ï¼‰</h3><p>ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½å¯ä»¥è¢«<code>.</code>è¿ç®—ç¬¦è®¿é—®:</p>
<blockquote>
<p>All object attributes (which includes variables <em>and</em> methods) can be accessed with <strong>dot notation</strong>:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pina_bar.increase_inventory(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°è¡¨è¾¾å¼ä¼šåœ¨<code>pina_bar</code>ç±»ä¸­æŸ¥æ‰¾åä¸º<code>increase_inventory</code>çš„æ–¹æ³•ã€‚</p>
<blockquote>
<p>That evaluates to the value of the attribute looked up by <code>increase_inventory</code> in the object referenced by <code>pina_bar</code>.</p>
</blockquote>
<p><code>.</code>è¿ç®—ç¬¦çš„å·¦è¾¹ä¹Ÿå¯ä»¥æ˜¯ä»»æ„çš„è¡¨è¾¾å¼ï¼š</p>
<blockquote>
<p>The left-hand side of the dot notation can also be any expression that evaluates to an object reference:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bars = [pina_bar, truffle_bar]</span><br><span class="line">bars[<span class="number">0</span>].increase_inventory(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å®ä¾‹çš„å˜é‡ï¼ˆInstance-variablesï¼‰"><a href="#å®ä¾‹çš„å˜é‡ï¼ˆInstance-variablesï¼‰" class="headerlink" title="å®ä¾‹çš„å˜é‡ï¼ˆInstance variablesï¼‰"></a>å®ä¾‹çš„å˜é‡ï¼ˆ<code>Instance variables</code>ï¼‰</h3><blockquote>
<p><strong>Instance variables</strong> are data attributes that describe the state of an object.</p>
<p>This <code>__init__</code> initializes 4 instance variables:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, price, nutrition_info</span>):</span><br><span class="line">        self._name = name</span><br><span class="line">        self._price = price</span><br><span class="line">        self._nutrition_info = nutrition_info</span><br><span class="line">        self._inventory = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>The objectâ€™s methods can then change the values of those variables or assign new variables.</p>
</blockquote>
<h3 id="æ–¹æ³•çš„è°ƒç”¨ï¼ˆMethod-invocationï¼‰"><a href="#æ–¹æ³•çš„è°ƒç”¨ï¼ˆMethod-invocationï¼‰" class="headerlink" title="æ–¹æ³•çš„è°ƒç”¨ï¼ˆMethod invocationï¼‰"></a>æ–¹æ³•çš„è°ƒç”¨ï¼ˆ<code>Method invocation</code>ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pina_bar.increase_inventory(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">increase_inventory</span>(<span class="params">self, amount</span>):</span><br><span class="line">        self._inventory += amount</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>pina_bar.increase_inventory</code> is a <strong>bound method</strong>: a function which has its first parameter pre-bound to a particular value.</p>
<p>In this case, <code>self</code> is pre-bound to <code>pina_bar</code> and <code>amount</code> is set to 2.</p>
</blockquote>
<blockquote>
<p>Itâ€™s equivalent to:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Product.increase_inventory(pina_bar, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="åŠ¨æ€å®ä¾‹å˜é‡ï¼ˆDynamic-instance-variablesï¼‰"><a href="#åŠ¨æ€å®ä¾‹å˜é‡ï¼ˆDynamic-instance-variablesï¼‰" class="headerlink" title="åŠ¨æ€å®ä¾‹å˜é‡ï¼ˆDynamic instance variablesï¼‰"></a>åŠ¨æ€å®ä¾‹å˜é‡ï¼ˆ<code>Dynamic instance variables</code>ï¼‰</h3><blockquote>
<p>An object can create a new instance variable whenever itâ€™d like.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reduce_inventory</span>(<span class="params">self, amount</span>):</span><br><span class="line">        <span class="keyword">if</span> (self._inventory - amount) &lt;= <span class="number">0</span>:</span><br><span class="line">            self._needs_restocking = <span class="literal">True</span></span><br><span class="line">        self._inventory -= amount</span><br><span class="line"></span><br><span class="line">pina_bar = Product(<span class="string">&quot;PiÃ±a Chocolotta&quot;</span>, <span class="number">7.99</span>,</span><br><span class="line">    [<span class="string">&quot;200 calories&quot;</span>, <span class="string">&quot;24 g sugar&quot;</span>])</span><br><span class="line">pina_bar.reduce_inventory(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Now <code>pina_bar</code> has an updated binding for <code>_inventory</code> and a new binding for <code>_needs_restocking</code> (which was not in <code>__init__</code>).</p>
</blockquote>
<h3 id="ç±»å˜é‡ï¼ˆClass-variablesï¼‰"><a href="#ç±»å˜é‡ï¼ˆClass-variablesï¼‰" class="headerlink" title="ç±»å˜é‡ï¼ˆClass variablesï¼‰"></a>ç±»å˜é‡ï¼ˆ<code>Class variables</code>ï¼‰</h3><blockquote>
<p>A <strong>class variable</strong> is an assignment inside the class that isnâ€™t inside a method body.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line">    sales_tax = <span class="number">0.07</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Class variables are â€œsharedâ€ across all instances of a class because they are attributes of the class, not the instance.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span>:</span><br><span class="line">    _sales_tax = <span class="number">0.07</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_total_price</span>(<span class="params">self, quantity</span>):</span><br><span class="line">        <span class="keyword">return</span> (self._price * (<span class="number">1</span> + self._sales_tax)) * quantity</span><br><span class="line"></span><br><span class="line">pina_bar = Product(<span class="string">&quot;PiÃ±a Chocolotta&quot;</span>, <span class="number">7.99</span>,</span><br><span class="line">    [<span class="string">&quot;200 calories&quot;</span>, <span class="string">&quot;24 g sugar&quot;</span>])</span><br><span class="line">truffle_bar = Product(<span class="string">&quot;Truffalapagus&quot;</span>, <span class="number">9.99</span>,</span><br><span class="line">    [<span class="string">&quot;170 calories&quot;</span>, <span class="string">&quot;19 g sugar&quot;</span>])</span><br><span class="line"></span><br><span class="line">pina_bar._sales_tax</span><br><span class="line">truffle_bar._sales_tax</span><br><span class="line">pina_bar.get_total_price(<span class="number">4</span>)</span><br><span class="line">truffle_bar.get_total_price(<span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å±æ€§éƒ½æ˜¯å…¬å…±çš„ï¼ˆAttributes-are-all-publicï¼‰"><a href="#å±æ€§éƒ½æ˜¯å…¬å…±çš„ï¼ˆAttributes-are-all-publicï¼‰" class="headerlink" title="å±æ€§éƒ½æ˜¯å…¬å…±çš„ï¼ˆAttributes are all publicï¼‰"></a>å±æ€§éƒ½æ˜¯å…¬å…±çš„ï¼ˆ<code>Attributes are all public</code>ï¼‰</h3><blockquote>
<p>As long as you have a reference to an object, you can set or mutate any attributes.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pina_bar = Product(<span class="string">&quot;PiÃ±a Chocolotta&quot;</span>, <span class="number">7.99</span>,</span><br><span class="line">    [<span class="string">&quot;200 calories&quot;</span>, <span class="string">&quot;24 g sugar&quot;</span>])</span><br><span class="line"></span><br><span class="line">pina_bar._inventory</span><br><span class="line">pina_bar._inventory = <span class="number">5000000</span></span><br><span class="line">pina_bar._inventory = -<span class="number">5000</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>You can even assign new instance variables:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pina_bar.brand_new_attribute_haha = <span class="string">&quot;instanception&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="â€œç§æœ‰â€å±æ€§ï¼ˆ-Private-attributesï¼‰"><a href="#â€œç§æœ‰â€å±æ€§ï¼ˆ-Private-attributesï¼‰" class="headerlink" title="â€œç§æœ‰â€å±æ€§ï¼ˆ&quot;Private&quot; attributesï¼‰"></a>â€œç§æœ‰â€å±æ€§ï¼ˆ<code>&quot;Private&quot; attributes</code>ï¼‰</h3><blockquote>
<p>To communicate the desired access level of attributes, Python programmers generally use this convention:</p>
<ul>
<li><code>__</code> (double underscore) before very private attribute names</li>
<li><code>_</code> (single underscore) before semi-private attribute names</li>
<li>no underscore before public attribute names</li>
</ul>
<p>That allows classes to hide implementation details and add additional error checking.</p>
<p>We will discuss <code>__</code> vs <code>_</code> next time.</p>
<p>For now, if you see no underscore, HAVE FUN! ğŸ‰ ğŸ‰</p>
</blockquote>
<h2 id="Lecture-17-Inheritance-Composition"><a href="#Lecture-17-Inheritance-Composition" class="headerlink" title="Lecture #17: Inheritance + Composition"></a>Lecture #17: Inheritance + Composition</h2><h3 id="åˆ›å»ºä¸€ä¸ªâ€œåŠ¨ç‰©å›­â€ï¼ˆBuilding-Animal-Conserving-ï¼‰"><a href="#åˆ›å»ºä¸€ä¸ªâ€œåŠ¨ç‰©å›­â€ï¼ˆBuilding-Animal-Conserving-ï¼‰" class="headerlink" title="åˆ›å»ºä¸€ä¸ªâ€œåŠ¨ç‰©å›­â€ï¼ˆBuilding &quot;Animal Conserving&quot;ï¼‰"></a>åˆ›å»ºä¸€ä¸ªâ€œåŠ¨ç‰©å›­â€ï¼ˆ<code>Building &quot;Animal Conserving&quot;</code>ï¼‰</h3><p>è¦å®ç°ä¸€ä¸ªåŒ…å«ä¸‹å›¾çš„åŠ¨ç‰©çš„åŠ¨ç‰©å›­ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦å®ç°ä»¥ä¸‹ç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Panda()</span><br><span class="line">Lion()</span><br><span class="line">Rabbit()</span><br><span class="line">Vulture()</span><br><span class="line">Elephant()</span><br><span class="line">Food()</span><br></pre></td></tr></table></figure>

<p><img src="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/e8c10fb6c0716f1b62a9e5a08af5929.png" alt="e8c10fb6c0716f1b62a9e5a08af5929"></p>
<h3 id="é£Ÿç‰©ç±»ï¼ˆA-Food-classï¼‰"><a href="#é£Ÿç‰©ç±»ï¼ˆA-Food-classï¼‰" class="headerlink" title="é£Ÿç‰©ç±»ï¼ˆA Food classï¼‰"></a>é£Ÿç‰©ç±»ï¼ˆ<code>A Food class</code>ï¼‰</h3><p>ä¸€ä¸ªç®€å•çš„é£Ÿç‰©ç±»çš„å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Let&#x27;s start simple:</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Food</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, <span class="built_in">type</span>, calories</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.<span class="built_in">type</span> = <span class="built_in">type</span></span><br><span class="line">        self.calories = calories</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># How would we use that class?</span></span><br><span class="line">broccoli = Food(<span class="string">&quot;Broccoli Rabe&quot;</span>, <span class="string">&quot;veggies&quot;</span>, <span class="number">20</span>)</span><br><span class="line">bone_marrow = Food(<span class="string">&quot;Bone Marrow&quot;</span>, <span class="string">&quot;meat&quot;</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å¤§è±¡ç±»ï¼ˆAn-Elephant-classï¼‰"><a href="#å¤§è±¡ç±»ï¼ˆAn-Elephant-classï¼‰" class="headerlink" title="å¤§è±¡ç±»ï¼ˆAn Elephant classï¼‰"></a>å¤§è±¡ç±»ï¼ˆ<code>An Elephant class</code>ï¼‰</h3><p>ä¸€ä¸ªç®€å•çš„å¤§è±¡ç±»çš„å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Elephant</span>:</span><br><span class="line">    species_name = <span class="string">&quot;African Savanna Elephant&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Loxodonta africana&quot;</span></span><br><span class="line">    calories_needed = <span class="number">8000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age=<span class="number">0</span></span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.calories_eaten  = <span class="number">0</span></span><br><span class="line">        self.happiness = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">self, num_hours</span>):</span><br><span class="line">        self.happiness += (num_hours * <span class="number">4</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;WHEEE PLAY TIME!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self, food</span>):</span><br><span class="line">        self.calories_eaten += food.calories</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Om nom nom yummy <span class="subst">&#123;food.name&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> self.calories_eaten &gt; self.calories_needed:</span><br><span class="line">            self.happiness -= <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Ugh so full&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">interact_with</span>(<span class="params">self, animal2</span>):</span><br><span class="line">        self.happiness += <span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Yay happy fun time with <span class="subst">&#123;animal2.name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">el1 = Elephant(<span class="string">&quot;Willaby&quot;</span>, <span class="number">5</span>)</span><br><span class="line">el2 = Elephant(<span class="string">&quot;Wallaby&quot;</span>, <span class="number">3</span>)</span><br><span class="line">el1.play(<span class="number">2</span>)</span><br><span class="line">el1.interact_with(el2)</span><br></pre></td></tr></table></figure>

<h3 id="å…”å­ç±»ï¼ˆAn-Rabbit-classï¼‰"><a href="#å…”å­ç±»ï¼ˆAn-Rabbit-classï¼‰" class="headerlink" title="å…”å­ç±»ï¼ˆAn Rabbit classï¼‰"></a>å…”å­ç±»ï¼ˆ<code>An Rabbit class</code>ï¼‰</h3><p>ä¸€ä¸ªç®€å•çš„å…”å­ç±»çš„å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rabbit</span>:</span><br><span class="line">    species_name = <span class="string">&quot;European rabbit&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Oryctolagus cuniculus&quot;</span></span><br><span class="line">    calories_needed = <span class="number">200</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age=<span class="number">0</span></span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.calories_eaten = <span class="number">0</span></span><br><span class="line">        self.happiness = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">self, num_hours</span>):</span><br><span class="line">        self.happiness += (num_hours * <span class="number">10</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;WHEEE PLAY TIME!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self, food</span>):</span><br><span class="line">        self.calories_eaten += food.calories</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Om nom nom yummy <span class="subst">&#123;food.name&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> self.calories_eaten &gt; self.calories_needed:</span><br><span class="line">            self.happiness -= <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Ugh so full&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">interact_with</span>(<span class="params">self, animal2</span>):</span><br><span class="line">        self.happiness += <span class="number">4</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Yay happy fun time with <span class="subst">&#123;animal2.name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rabbit1 = Rabbit(<span class="string">&quot;Mister Wabbit&quot;</span>, <span class="number">3</span>)</span><br><span class="line">rabbit2 = Rabbit(<span class="string">&quot;Bugs Bunny&quot;</span>, <span class="number">2</span>)</span><br><span class="line">rabbit1.eat(broccoli)</span><br><span class="line">rabbit2.interact_with(rabbit1)</span><br></pre></td></tr></table></figure>

<h3 id="ç»§æ‰¿â€”â€”åŸºç±»ä¸å­ç±»ï¼ˆInheritance-Base-classes-and-subclassesï¼‰"><a href="#ç»§æ‰¿â€”â€”åŸºç±»ä¸å­ç±»ï¼ˆInheritance-Base-classes-and-subclassesï¼‰" class="headerlink" title="ç»§æ‰¿â€”â€”åŸºç±»ä¸å­ç±»ï¼ˆInheritance--Base classes and subclassesï¼‰"></a>ç»§æ‰¿â€”â€”åŸºç±»ä¸å­ç±»ï¼ˆ<code>Inheritance--Base classes and subclasses</code>ï¼‰</h3><p>å¦‚æœå¤šä¸ªç±»æœ‰ç›¸ä¼¼çš„å±æ€§ï¼Œå¯ä»¥å®ç°ä¸€ä¸ªåŸºç±»ï¼ˆ<code>Base class</code>ï¼‰ï¼Œè®©è¿™äº›ç±»ç»§æ‰¿åŸºç±»ã€‚</p>
<p>åŸºç±»ä¹Ÿè¢«æˆä¸ºè¶…ç±»ï¼ˆ<code>superclass</code>ï¼‰ã€‚</p>
<p><img src="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/61feadd3b714075fedfad27bfe1c9af.png" alt="61feadd3b714075fedfad27bfe1c9af"></p>
<h3 id="åŸºç±»ï¼ˆThe-base-classï¼‰"><a href="#åŸºç±»ï¼ˆThe-base-classï¼‰" class="headerlink" title="åŸºç±»ï¼ˆThe base classï¼‰"></a>åŸºç±»ï¼ˆ<code>The base class</code>ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The base class contains method headers common to the subclasses, and code that is used by multiple subclasses.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">    species_name = <span class="string">&quot;Animal&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Animalia&quot;</span></span><br><span class="line">    play_multiplier = <span class="number">2</span></span><br><span class="line">    interact_increment = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age=<span class="number">0</span></span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.calories_eaten  = <span class="number">0</span></span><br><span class="line">        self.happiness = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">self, num_hours</span>):</span><br><span class="line">        self.happiness += (num_hours * self.play_multiplier)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;WHEEE PLAY TIME!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self, food</span>):</span><br><span class="line">        self.calories_eaten += food.calories</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Om nom nom yummy <span class="subst">&#123;food.name&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> self.calories_eaten &gt; self.calories_needed:</span><br><span class="line">            self.happiness -= <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Ugh so full&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">interact_with</span>(<span class="params">self, animal2</span>):</span><br><span class="line">        self.happiness += self.interact_increment</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Yay happy fun time with <span class="subst">&#123;animal2.name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å­ç±»ï¼ˆThe-subclassesï¼‰"><a href="#å­ç±»ï¼ˆThe-subclassesï¼‰" class="headerlink" title="å­ç±»ï¼ˆThe subclassesï¼‰"></a>å­ç±»ï¼ˆ<code>The subclasses</code>ï¼‰</h3><p>å¯ç”¨å¦‚ä¸‹æ–¹å¼å®šä¹‰ä¸€ä¸ª<code>Animal</code>ç±»çš„å­ç±»<code>Panda</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># To declare a subclass, put parentheses after the class name and specify the base class in the parentheses:</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Panda</span>(<span class="title class_ inherited__">Animal</span>):</span><br></pre></td></tr></table></figure>

<p>å­ç±»åªéœ€è¦ä¸åŒäºåŸºç±»çš„ä»£ç éƒ¨åˆ†ã€‚å­ç±»å¯ä»¥é‡æ–°å®šä¹‰åŸºç±»çš„ä»»ä½•éƒ¨åˆ†ï¼Œå¦‚ç±»å˜é‡ï¼Œæ–¹æ³•å®šä¹‰ï¼Œæ„é€ å™¨ç­‰ã€‚</p>
<p>é‡æ–°å®šä¹‰ï¼ˆ<code>redefinition</code>ï¼‰ä¹Ÿç§°é‡è½½ï¼ˆ<code>overriding</code>ï¼‰ã€‚</p>
<p>å¦‚æœå­ç±»ä¸éœ€è¦é‡è½½ä»»ä½•ä»£ç ï¼Œå¯ä»¥è¿™æ ·å®ç°ï¼ˆ<code>pass</code>è¯­å¥æ˜¯ä¸ºäº†é˜²æ­¢æŠ¥é”™ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The simplest subclass overrides nothing:</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AmorphousBlob</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="é‡è½½ç±»å˜é‡ï¼ˆOverriding-class-variablesï¼‰"><a href="#é‡è½½ç±»å˜é‡ï¼ˆOverriding-class-variablesï¼‰" class="headerlink" title="é‡è½½ç±»å˜é‡ï¼ˆOverriding class variablesï¼‰"></a>é‡è½½ç±»å˜é‡ï¼ˆ<code>Overriding class variables</code>ï¼‰</h3><p>ä¸Šè¿°çš„å…”å­ç±»å’Œå¤§è±¡ç±»å¯ä»¥é‡è½½åŠ¨ç‰©ç±»å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Subclasses can override existing class variables and assign new class variables:</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rabbit</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    species_name = <span class="string">&quot;European rabbit&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Oryctolagus cuniculus&quot;</span></span><br><span class="line">    calories_needed = <span class="number">200</span></span><br><span class="line">    play_multiplier = <span class="number">8</span></span><br><span class="line">    interact_increment = <span class="number">4</span></span><br><span class="line">    num_in_litter = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Elephant</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    species_name = <span class="string">&quot;African Savanna Elephant&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Loxodonta africana&quot;</span></span><br><span class="line">    calories_needed = <span class="number">8000</span></span><br><span class="line">    play_multiplier = <span class="number">4</span></span><br><span class="line">    interact_increment = <span class="number">2</span></span><br><span class="line">    num_tusks = <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="é‡è½½æ–¹æ³•ï¼ˆOverriding-methodsï¼‰"><a href="#é‡è½½æ–¹æ³•ï¼ˆOverriding-methodsï¼‰" class="headerlink" title="é‡è½½æ–¹æ³•ï¼ˆOverriding methodsï¼‰"></a>é‡è½½æ–¹æ³•ï¼ˆ<code>Overriding methods</code>ï¼‰</h3><p>å­ç±»å¯ä»¥é‡è½½åŸºç±»çš„æ–¹æ³•(è°ƒç”¨åŸºç±»æ—¶ï¼Œä½¿ç”¨çš„æ˜¯é‡è½½çš„æ–¹æ³•)ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If a subclass overrides a method, Python will use that definition instead of the superclass definition.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Panda</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    species_name = <span class="string">&quot;Giant Panda&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Ailuropoda melanoleuca&quot;</span></span><br><span class="line">    calories_needed = <span class="number">6000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">interact_with</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;I&#x27;m a Panda, I&#x27;m solitary, go away <span class="subst">&#123;other.name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># How would we call that method?</span></span><br><span class="line">panda1 = Panda(<span class="string">&quot;Pandeybear&quot;</span>, <span class="number">6</span>)</span><br><span class="line">panda2 = Panda(<span class="string">&quot;Spot&quot;</span>, <span class="number">3</span>)</span><br><span class="line">panda1.interact_with(panda2)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼ˆUsing-methods-from-the-base-classï¼‰"><a href="#ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼ˆUsing-methods-from-the-base-classï¼‰" class="headerlink" title="ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼ˆUsing methods from the base classï¼‰"></a>ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼ˆ<code>Using methods from the base class</code>ï¼‰</h3><p>å¯ä»¥ä½¿ç”¨<code>super()</code>è¡¨ç¤ºå½“å‰ç±»å¯¹è±¡çš„åŸºç±»ï¼Œå¹¶è°ƒç”¨åŸºç±»æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># To refer to a superclass method, we can use super():</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Lion</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    species_name = <span class="string">&quot;Lion&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Panthera&quot;</span></span><br><span class="line">    calories_needed = <span class="number">3000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self, food</span>):</span><br><span class="line">        <span class="keyword">if</span> food.<span class="built_in">type</span> == <span class="string">&quot;meat&quot;</span>:</span><br><span class="line">            <span class="built_in">super</span>().eat(food)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># How would we call that method?</span></span><br><span class="line">bones = Food(<span class="string">&quot;Bones&quot;</span>, <span class="string">&quot;meat&quot;</span>)</span><br><span class="line">mufasa = Lion(<span class="string">&quot;Mufasa&quot;</span>, <span class="number">10</span>)</span><br><span class="line">mufasa.eat(bones)</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ä¸¤ç§è°ƒç”¨æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># super().attribute refers to the definition of attribute in the superclass of the first parameter to the method.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self, food</span>):</span><br><span class="line">    <span class="keyword">if</span> food.<span class="built_in">type</span> == <span class="string">&quot;meat&quot;</span>:</span><br><span class="line">        <span class="built_in">super</span>().eat(food)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ...is the same as:</span></span><br><span class="line"><span class="comment"># super() is better style than BaseClassName, though slightly slower.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self, food</span>):</span><br><span class="line">    <span class="keyword">if</span> food.<span class="built_in">type</span> == <span class="string">&quot;meat&quot;</span>:</span><br><span class="line">        Animal.eat(self, food)</span><br></pre></td></tr></table></figure>

<h3 id="é‡è½½-init-ï¼ˆOverriding-init-ï¼‰"><a href="#é‡è½½-init-ï¼ˆOverriding-init-ï¼‰" class="headerlink" title="é‡è½½__init__ï¼ˆOverriding __init__ï¼‰"></a>é‡è½½<code>__init__</code>ï¼ˆ<code>Overriding __init__</code>ï¼‰</h3><p>ä½¿ç”¨<code>super().__init__()</code>ä¼š<strong>å®ä¾‹åŒ–åŸºç±»</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Similarly, we need to explicitly call super().__init__() if we want to call the __init__ functionality of the base class.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Elephant</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    species_name = <span class="string">&quot;Elephant&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Loxodonta&quot;</span></span><br><span class="line">    calories_needed = <span class="number">8000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age=<span class="number">0</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(name, age)</span><br><span class="line">        <span class="keyword">if</span> age &lt; <span class="number">1</span>:</span><br><span class="line">            self.calories_needed = <span class="number">1000</span></span><br><span class="line">        <span class="keyword">elif</span> age &lt; <span class="number">5</span>:</span><br><span class="line">            self.calories_needed = <span class="number">3000</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># What would this display?</span></span><br><span class="line">elly = Elephant(<span class="string">&quot;Ellie&quot;</span>, <span class="number">3</span>)</span><br><span class="line">elly.calories_needed        <span class="comment"># 3000</span></span><br></pre></td></tr></table></figure>

<h3 id="ç»§æ‰¿çš„å±‚æ¬¡ï¼ˆLayers-of-inheritanceï¼‰"><a href="#ç»§æ‰¿çš„å±‚æ¬¡ï¼ˆLayers-of-inheritanceï¼‰" class="headerlink" title="ç»§æ‰¿çš„å±‚æ¬¡ï¼ˆLayers of inheritanceï¼‰"></a>ç»§æ‰¿çš„å±‚æ¬¡ï¼ˆ<code>Layers of inheritance</code>ï¼‰</h3><p>æ¯ä¸€ä¸ª<code>Python3</code>çš„ç±»éƒ½éšå¼åœ°ç»§æ‰¿äº†<code>object</code>ç±»ï¼š</p>
<p><img src="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/01bd2d2228b91429525a1ad5e256bc1.png" alt="01bd2d2228b91429525a1ad5e256bc1"></p>
<h3 id="å¤šç»§æ‰¿ï¼ˆMultiple-inhteritanceï¼‰"><a href="#å¤šç»§æ‰¿ï¼ˆMultiple-inhteritanceï¼‰" class="headerlink" title="å¤šç»§æ‰¿ï¼ˆMultiple inhteritanceï¼‰"></a>å¤šç»§æ‰¿ï¼ˆ<code>Multiple inhteritance</code>ï¼‰</h3><p><code>Python</code>ä¹Ÿæ”¯æŒå¤šç»§æ‰¿ï¼Œä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªåŸºç±»ï¼š</p>
<p><img src="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/25bd4bf86c08cd9542a8db8491cc3f8.png" alt="25bd4bf86c08cd9542a8db8491cc3f8"></p>
<h3 id="ç»„åˆï¼ˆCompositionï¼‰"><a href="#ç»„åˆï¼ˆCompositionï¼‰" class="headerlink" title="ç»„åˆï¼ˆCompositionï¼‰"></a>ç»„åˆï¼ˆ<code>Composition</code>ï¼‰</h3><p>ä¸€ä¸ªå¯¹è±¡å¯èƒ½åŒ…å«å…¶ä»–ç±»çš„å¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<blockquote>
<p>An object can contain references to objects of other classes.</p>
</blockquote>
<p>ä¸‹é¢çš„<code>Animal</code>ç±»çš„å®ä¾‹å˜é‡<code>mate</code>å°±æŒ‡å‘äº†å¦ä¸€ä¸ª<code>Animal</code>ç±»çš„å¯¹è±¡ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mate_with</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">if</span> other <span class="keyword">is</span> <span class="keyword">not</span> self <span class="keyword">and</span> other.species_name == self.species_name:</span><br><span class="line">            self.mate = other</span><br><span class="line">            other.mate = self</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mr_wabbit = Rabbit(<span class="string">&quot;Mister Wabbit&quot;</span>, <span class="number">3</span>)</span><br><span class="line">jane_doe = Rabbit(<span class="string">&quot;Jane Doe&quot;</span>, <span class="number">2</span>)</span><br><span class="line">mr_wabbit.mate_with(jane_doe)</span><br></pre></td></tr></table></figure>

<p><code>eg</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rabbit</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reproduce_like_rabbits</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.mate <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;oh no! better go on ZoOkCupid&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.babies = []</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, self.num_in_litter):</span><br><span class="line">            self.babies.append(Rabbit(<span class="string">&quot;bunny&quot;</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mr_wabbit = Rabbit(<span class="string">&quot;Mister Wabbit&quot;</span>, <span class="number">3</span>)</span><br><span class="line">jane_doe = Rabbit(<span class="string">&quot;Jane Doe&quot;</span>, <span class="number">2</span>)</span><br><span class="line">mr_wabbit.mate_with(jane_doe)</span><br><span class="line">jane_doe.reproduce_like_rabbits()</span><br></pre></td></tr></table></figure>

<p><code>eg.</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">partytime</span>(<span class="params">animals</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assuming ANIMALS is a list of Animals, cause each</span></span><br><span class="line"><span class="string">    to interact with all the others exactly once.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(animals)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, <span class="built_in">len</span>(animals)):</span><br><span class="line">            animals[i].interact_with(animals[j])</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jane_doe = Rabbit(<span class="string">&quot;Jane Doe&quot;</span>, <span class="number">2</span>)</span><br><span class="line">scar = Lion(<span class="string">&quot;Scar&quot;</span>, <span class="number">12</span>)</span><br><span class="line">elly = Elephant(<span class="string">&quot;Elly&quot;</span>, <span class="number">5</span>)</span><br><span class="line">pandy = Panda(<span class="string">&quot;PandeyBear&quot;</span>, <span class="number">4</span>)</span><br><span class="line">partytime([jane_doe, scar, elly, pandy])</span><br></pre></td></tr></table></figure>

<h2 id="Lecture-18-Special-Object-Methods"><a href="#Lecture-18-Special-Object-Methods" class="headerlink" title="Lecture #18: Special Object Methods"></a>Lecture #18: Special Object Methods</h2><h3 id="å…³äºå¯¹è±¡ï¼ˆSo-many-objectsï¼‰"><a href="#å…³äºå¯¹è±¡ï¼ˆSo-many-objectsï¼‰" class="headerlink" title="å…³äºå¯¹è±¡ï¼ˆSo many objectsï¼‰"></a>å…³äºå¯¹è±¡ï¼ˆ<code>So many objects</code>ï¼‰</h3><p>åœ¨<code>Python</code>ä¸­ï¼Œæ‰€æœ‰çš„ç±»å‹å’Œè‡ªå®šä¹‰ç±»éƒ½éšå¼åœ°ç›´æ¥æˆ–é—´æ¥ç»§æ‰¿äº†<code>object</code>ç±»ï¼Œä»¥ä¸‹çš„å˜é‡åç§°éƒ½æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Lamb</span>:</span><br><span class="line">    species_name = <span class="string">&quot;Lamb&quot;</span></span><br><span class="line">    scientific_name = <span class="string">&quot;Ovis aries&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">self</span>):</span><br><span class="line">        self.happy = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">lamb = Lamb(<span class="string">&quot;Lil&quot;</span>)</span><br><span class="line">owner = <span class="string">&quot;Mary&quot;</span></span><br><span class="line">had_a_lamb = <span class="literal">True</span></span><br><span class="line">fleece = &#123;<span class="string">&quot;color&quot;</span>: <span class="string">&quot;white&quot;</span>, <span class="string">&quot;fluffiness&quot;</span>: <span class="number">100</span>&#125;</span><br><span class="line">kids_at_school = [<span class="string">&quot;Billy&quot;</span>, <span class="string">&quot;Tilly&quot;</span>, <span class="string">&quot;Jilly&quot;</span>]</span><br><span class="line">day = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æŸä¸ªå¯¹è±¡çš„<code>__class__</code>å±æ€§å¯ä»¥æŸ¥çœ‹å…¶ç±»åï¼ŒæŸ¥çœ‹å…¶ç±»åçš„<code>__bases__</code>å±æ€§ï¼Œå¯ä»¥å¾—åˆ°åŸºç±»ï¼ˆè¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŸºç±»å¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb.__class__</span></span><br><span class="line">&lt;class &#x27;__main__.Lamb&#x27;&gt;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb.__class__.__bases__</span></span><br><span class="line">(&lt;class &#x27;object&#x27;&gt;,)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; owner.__class__</span></span><br><span class="line">&lt;class &#x27;str&#x27;&gt;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; owner.__class__.__bases__</span></span><br><span class="line">(&lt;class &#x27;object&#x27;&gt;,)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; had_a_lamb.__class__</span></span><br><span class="line">&lt;class &#x27;bool&#x27;&gt;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; had_a_lamb.__class__.__bases__</span></span><br><span class="line">(&lt;class &#x27;int&#x27;&gt;,)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; fleece.__class__</span></span><br><span class="line">&lt;class &#x27;dict&#x27;&gt;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; fleece.__class__.__bases__</span></span><br><span class="line">(&lt;class &#x27;object&#x27;&gt;,)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; kids_at_school.__class__</span></span><br><span class="line">&lt;class &#x27;list&#x27;&gt;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; kids_at_school.__class__.__bases__</span></span><br><span class="line">(&lt;class &#x27;object&#x27;&gt;,)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; day.__class__</span></span><br><span class="line">&lt;class &#x27;int&#x27;&gt;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; day.__class__.__bases__</span></span><br><span class="line">(&lt;class &#x27;object&#x27;&gt;,)</span><br></pre></td></tr></table></figure>

<p><img src="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/8f11a006a0e4c378fe2a40a4cb0ceca.png" alt="8f11a006a0e4c378fe2a40a4cb0ceca"></p>
<h3 id="å¯¹è±¡å†…ç½®çš„å±æ€§ï¼ˆBuilt-in-object-attributesï¼‰"><a href="#å¯¹è±¡å†…ç½®çš„å±æ€§ï¼ˆBuilt-in-object-attributesï¼‰" class="headerlink" title="å¯¹è±¡å†…ç½®çš„å±æ€§ï¼ˆBuilt-in object attributesï¼‰"></a>å¯¹è±¡å†…ç½®çš„å±æ€§ï¼ˆ<code>Built-in object attributes</code>ï¼‰</h3><p>å› ä¸ºæ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ª<code>object</code>ç±»ï¼Œæ‰€ä»¥è‡ªç„¶ç»§æ‰¿äº†è¯¥ç±»çš„å±æ€§ï¼Œç”¨<code>dir()</code>å‡½æ•°å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªç±»çš„å±æ€§ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span>(<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">dir</span>(object)</span></span><br><span class="line">[&#x27;__bases__&#x27;, &#x27;__class__&#x27;, &#x27;__delattr__&#x27;, &#x27;__dir__&#x27;, &#x27;__eq__&#x27;, &#x27;__format__&#x27;, &#x27;__ge__&#x27;, &#x27;__getattribute__&#x27;, &#x27;__gt__&#x27;, &#x27;__hash__&#x27;, &#x27;__init__&#x27;, &#x27;__init_subclass__&#x27;, &#x27;__le__&#x27;, &#x27;__lt__&#x27;, &#x27;__module__&#x27;, &#x27;__ne__&#x27;, &#x27;__new__&#x27;, &#x27;__reduce__&#x27;, &#x27;__reduce_ex__&#x27;, &#x27;__repr__&#x27;, &#x27;__setattr__&#x27;, &#x27;__str__&#x27;, &#x27;__subclasshook__&#x27;]</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>For string representation: <code>__repr__</code>, <code>__str__</code>, <code>__format__</code></li>
<li>For comparisons: <code>__eq__</code>, <code>__ge__</code>, <code>__gt__</code>, <code>__le__</code>, <code>__lt__</code>, <code>__ne__</code></li>
<li>Related to classes: <code>__bases__</code>, <code>__class__</code>, <code>__new__</code>, <code>__init__</code>, <code>__init_subclass__</code>, <code>__subclasshook__</code>, <code>__setattr__</code>, <code>__delattr__</code>, <code>__getattribute__</code></li>
<li>Others: <code>__dir__</code>, <code>__hash__</code>, <code>__module__</code>, <code>__reduce__</code>, <code>__reduce_ex__</code></li>
</ul>
</blockquote>
<h3 id="str-æ–¹æ³•ï¼ˆ-str-ï¼‰"><a href="#str-æ–¹æ³•ï¼ˆ-str-ï¼‰" class="headerlink" title="__str__æ–¹æ³•ï¼ˆ__str__ï¼‰"></a><code>__str__</code>æ–¹æ³•ï¼ˆ<code>__str__</code>ï¼‰</h3><p><code>__str__</code>æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯è¢«äººç±»é˜…è¯»çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œåœ¨å­—ç¬¦ä¸²æ„é€ ï¼Œ<code>print</code>å‡½æ•°ï¼Œf-å­—ç¬¦ä¸²ï¼ˆ<code>f-string</code>ï¼‰ç­‰åœ°æ–¹éƒ½è¢«è°ƒç”¨äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fractions <span class="keyword">import</span> Fraction</span><br><span class="line"></span><br><span class="line">one_third = <span class="number">1</span>/<span class="number">3</span></span><br><span class="line">one_half = Fraction(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; one_third</span></span><br><span class="line">0.3333333333333333</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">print</span>(one_third)</span></span><br><span class="line">0.3333333333333333</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; one_half</span></span><br><span class="line">Fraction(1, 2)</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">print</span>(one_half)</span></span><br><span class="line">1/2</span><br></pre></td></tr></table></figure>

<p>f-å­—ç¬¦ä¸²å¯ä»¥æŠŠ<code>&#123;&#125;</code>ä¸­çš„å˜é‡åè¿›è¡Œæ›¿æ¢ï¼Œè¿ç®—ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ<code>eval</code>å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹å…¶è¿›è¡Œè®¡ç®—ï¼Œå°±å’Œè¾“å…¥è¯¥å­—ç¬¦ä¸²åˆ°ç»ˆç«¯ä¸€æ ·ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; f<span class="string">&quot;&#123;one_half&#125; &gt; &#123;one_third&#125;&quot;</span></span></span><br><span class="line">&#x27;1/2 &gt; 0.3333333333333333&#x27;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">eval</span>(f<span class="string">&quot;&#123;one_half&#125; &gt; &#123;one_third&#125;&quot;</span>)</span></span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰-str-æ–¹æ³•ï¼ˆCustom-str-behaviorï¼‰"><a href="#è‡ªå®šä¹‰-str-æ–¹æ³•ï¼ˆCustom-str-behaviorï¼‰" class="headerlink" title="è‡ªå®šä¹‰__str__æ–¹æ³•ï¼ˆCustom __str__ behaviorï¼‰"></a>è‡ªå®šä¹‰<code>__str__</code>æ–¹æ³•ï¼ˆ<code>Custom __str__ behavior</code>ï¼‰</h3><p>å†…ç½®çš„<code>__str__</code>å‡½æ•°ä¸€èˆ¬è¿”å›ä¸€ä¸ªæè¿°å¯¹è±¡ç±»åçš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb</span></span><br><span class="line">&lt;__main__.Lamb object&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; str(lamb)</span></span><br><span class="line">&#x27;&lt;__main__.Lamb object&gt;&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb.__str__()</span></span><br><span class="line">&#x27;&lt;__main__.Lamb object&gt;&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">print</span>(lamb)</span></span><br><span class="line">&lt;__main__.Lamb object&gt;</span><br></pre></td></tr></table></figure>

<p>é‡è½½<code>Lamb</code>ç±»ä¸­çš„<code>__str__</code>å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ğŸ‘ : &quot;</span> + self.name</span><br></pre></td></tr></table></figure>

<p>é‡è½½ä¹‹åï¼Œæ³¨æ„åˆ°ï¼Œè¾“å…¥<code>lamb</code>è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨<code>__str__</code>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb</span></span><br><span class="line">&lt;__main__.Lamb object&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb.__str__()</span></span><br><span class="line">&#x27;ğŸ‘ : Lil&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">print</span>(lamb)</span></span><br><span class="line">ğŸ‘ : Lil</span><br></pre></td></tr></table></figure>

<h3 id="repr-æ–¹æ³•ï¼ˆ-repr-ï¼‰"><a href="#repr-æ–¹æ³•ï¼ˆ-repr-ï¼‰" class="headerlink" title="__repr__æ–¹æ³•ï¼ˆ__repr__ï¼‰"></a><code>__repr__</code>æ–¹æ³•ï¼ˆ<code>__repr__</code>ï¼‰</h3><p>å¯¹è±¡è°ƒç”¨<code>__repr__</code>æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å¯ä»¥è¢«è®¡ç®—ï¼Œå¾—åˆ°è¯¥å¯¹è±¡ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; one_half.__repr__()</span></span><br><span class="line">&#x27;Fraction(1, 2)&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">eval</span>(one_half.__repr__())</span></span><br><span class="line">Fraction(1, 2)</span><br></pre></td></tr></table></figure>

<p><code>__repr__</code>ä¸»è¦ç”¨äºå±•ç¤ºå¦‚ä½•å¾—åˆ°æŸä¸ªå¯¹è±¡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt;</span> </span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; one_third</span></span><br><span class="line">0.3333333333333333</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; repr(one_third)</span></span><br><span class="line">&#x27;0.3333333333333333&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; one_half</span></span><br><span class="line">Fraction(1, 2)</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; repr(one_half)</span></span><br><span class="line">&#x27;Fraction(1, 2)&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰-repr-æ–¹æ³•ï¼ˆCustom-repr-behaviorï¼‰"><a href="#è‡ªå®šä¹‰-repr-æ–¹æ³•ï¼ˆCustom-repr-behaviorï¼‰" class="headerlink" title="è‡ªå®šä¹‰__repr__æ–¹æ³•ï¼ˆCustom __repr__ behaviorï¼‰"></a>è‡ªå®šä¹‰<code>__repr__</code>æ–¹æ³•ï¼ˆ<code>Custom __repr__ behavior</code>ï¼‰</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb</span></span><br><span class="line">&lt;__main__.Lamb object&gt;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; repr(lamb)</span></span><br><span class="line">&#x27;&lt;__main__.Lamb object&gt;&#x27;</span><br></pre></td></tr></table></figure>

<p>é‡è½½<code>Lamb</code>ç±»ä¸­çš„<code>__repr__</code>æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;Lamb(<span class="subst">&#123;<span class="built_in">repr</span>(self.name)&#125;</span>)&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; lamb</span></span><br><span class="line">Lamb(&#x27;Lil&#x27;)</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; repr(lamb)</span></span><br><span class="line">&quot;Lamb(&#x27;Lil&#x27;)&quot;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨getattræ–¹æ³•è·å–å¯¹è±¡å±æ€§ï¼ˆGet-attribute-with-getattr-ï¼‰"><a href="#ä½¿ç”¨getattræ–¹æ³•è·å–å¯¹è±¡å±æ€§ï¼ˆGet-attribute-with-getattr-ï¼‰" class="headerlink" title="ä½¿ç”¨getattræ–¹æ³•è·å–å¯¹è±¡å±æ€§ï¼ˆGet attribute with getattr()ï¼‰"></a>ä½¿ç”¨<code>getattr</code>æ–¹æ³•è·å–å¯¹è±¡å±æ€§ï¼ˆ<code>Get attribute with getattr()</code>ï¼‰</h3><p>ä½¿ç”¨<code>getattr(object, name[, default])</code>å¯ä»¥åœ¨<code>object</code>å¯¹è±¡ä¸­æŸ¥æ‰¾<code>name</code>å±æ€§ï¼Œè‹¥å­˜åœ¨ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç±»åçš„å­—ç¬¦ä¸²ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œè¿”å›<code>default</code>ï¼ˆè‹¥æœ‰è¯¥å‚æ•°ï¼‰ï¼Œå¦åˆ™è¿”å›<code>AttributeError</code>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; getattr(lamb, <span class="string">&quot;species_name&quot;</span>)</span></span><br><span class="line">&#x27;Lamb&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; getattr(lamb, <span class="string">&quot;not_exist_name&quot;</span>)</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &lt;string&gt;, line 1, in &lt;module&gt;</span><br><span class="line">AttributeError: not_exist_name</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; getattr(lamb, <span class="string">&quot;not_exist_name&quot;</span>, <span class="string">&#x27;not this attribute&#x27;</span>)</span></span><br><span class="line">&#x27;not this attribute&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨hasattræ–¹æ³•æ£€æµ‹å±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆCheck-attribute-exists-with-hasattr-ï¼‰"><a href="#ä½¿ç”¨hasattræ–¹æ³•æ£€æµ‹å±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆCheck-attribute-exists-with-hasattr-ï¼‰" class="headerlink" title="ä½¿ç”¨hasattræ–¹æ³•æ£€æµ‹å±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆCheck attribute exists with hasattr()ï¼‰"></a>ä½¿ç”¨<code>hasattr</code>æ–¹æ³•æ£€æµ‹å±æ€§æ˜¯å¦å­˜åœ¨ï¼ˆ<code>Check attribute exists with hasattr()</code>ï¼‰</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; hasattr(lamb, <span class="string">&quot;scientific_name&quot;</span>)</span></span><br><span class="line">True</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; hasattr(lamb, <span class="string">&quot;not_exist_name&quot;</span>)</span></span><br><span class="line">False</span><br></pre></td></tr></table></figure>

<h3 id="ç‰¹åˆ«çš„æ–¹æ³•ï¼ˆSpecial-methodsï¼‰"><a href="#ç‰¹åˆ«çš„æ–¹æ³•ï¼ˆSpecial-methodsï¼‰" class="headerlink" title="ç‰¹åˆ«çš„æ–¹æ³•ï¼ˆSpecial methodsï¼‰"></a>ç‰¹åˆ«çš„æ–¹æ³•ï¼ˆ<code>Special methods</code>ï¼‰</h3><p><img src="https://bucket-hexo-blog-2020152049.oss-cn-shenzhen.aliyuncs.com/img/4588895c4397fe4136843e4677233a7.png" alt="4588895c4397fe4136843e4677233a7"></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><strong>ç¿»è¯‘è§†é¢‘</strong>ï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1v64y1Q78o/?spm_id_from=444.41.top_right_bar_window_default_collection.content.click&vd_source=249a8ad55bb26717dd55ec3dd295f644">ã€è®¡ç®—æœºç¨‹åºçš„æ„é€ å’Œè§£é‡Šã€‘ç²¾è¯‘ã€UC Berkeley å…¬å¼€è¯¾-CS61A (Spring 2021)ã€‘-ä¸­è‹±åŒè¯­å­—å¹•</a></li>
<li><code>github</code>: <a target="_blank" rel="noopener" href="https://github.com/Maxwell2020152049/CS61A">Maxwell2020152049&#x2F;CS61A</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/06/13/Cpp-CppPrimer-Static-Keyword/" rel="prev" title="ã€C++ Primerã€‘Staticå…³é”®å­—">
                  <i class="fa fa-angle-left"></i> ã€C++ Primerã€‘Staticå…³é”®å­—
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/06/14/CS61A-Lab06/" rel="next" title="CS61A Lab06">
                  CS61A Lab06 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Rex</span>
  </div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
